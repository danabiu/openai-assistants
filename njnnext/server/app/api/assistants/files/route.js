"use strict";(()=>{var e={};e.id=445,e.ids=[445],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},7561:e=>{e.exports=require("node:fs")},4492:e=>{e.exports=require("node:stream")},1017:e=>{e.exports=require("path")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},1267:e=>{e.exports=require("worker_threads")},9796:e=>{e.exports=require("zlib")},3086:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>_,originalPathname:()=>m,patchFetch:()=>q,requestAsyncStorage:()=>w,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>h});var r={};s.r(r),s.d(r,{DELETE:()=>f,GET:()=>p,POST:()=>l});var a=s(5419),i=s(9108),o=s(9678),n=s(6795),u=s(7974);async function l(e){let t=(await e.formData()).get("file"),s=await c(),r=await u.f.files.create({file:t,purpose:"assistants"});return await u.f.beta.vectorStores.files.create(s,{file_id:r.id}),new Response}async function p(){let e=await c(),t=await u.f.beta.vectorStores.files.list(e),s=await Promise.all(t.data.map(async t=>{let s=await u.f.files.retrieve(t.id),r=await u.f.beta.vectorStores.files.retrieve(e,t.id);return{file_id:t.id,filename:s.filename,status:r.status}}));return Response.json(s)}async function f(e){let t=(await e.json()).fileId,s=await c();return await u.f.beta.vectorStores.files.del(s,t),new Response}let c=async()=>{let e=await u.f.beta.assistants.retrieve(n.B);if(e.tool_resources?.file_search?.vector_store_ids?.length>0)return e.tool_resources.file_search.vector_store_ids[0];let t=await u.f.beta.vectorStores.create({name:"sample-assistant-vector-store"});return await u.f.beta.assistants.update(n.B,{tool_resources:{file_search:{vector_store_ids:[t.id]}}}),t.id},d=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/assistants/files/route",pathname:"/api/assistants/files",filename:"route",bundlePath:"app/api/assistants/files/route"},resolvedPagePath:"/workspaces/openai-assistants/app/api/assistants/files/route.tsx",nextConfigOutput:"",userland:r}),{requestAsyncStorage:w,staticGenerationAsyncStorage:v,serverHooks:x,headerHooks:_,staticGenerationBailout:h}=d,m="/api/assistants/files/route";function q(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:v})}},6795:(e,t,s)=>{s.d(t,{B:()=>r});let r="";""===r&&(r=process.env.OPENAI_ASSISTANT_ID)},7974:(e,t,s)=>{s.d(t,{f:()=>r});let r=new(s(2917)).ZP}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,746],()=>s(3086));module.exports=r})();